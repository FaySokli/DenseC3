general:
  seed: 42
model:
  init:
    doc_model: facebook/contriever-msmarco
    tokenizer: ${model.init.doc_model}
    device: cuda
    aggregation_mode: mean
    embedding_size: 768
    save_model: contriever
    specialized_mode: weight
    max_tokenizer_length: 256
    normalize: false
    temperature: 0.05
    num_experts_to_use: 3
    num_experts: 3
  continue_train: false
training:
  lr: 0.0001
  batch_size: 64
  max_epoch: 30
testing:
  data_dir: ../nfcorpus
  corpus_path: ${testing.data_dir}/corpus.jsonl
  dev_query_path: ${dataset.data_dir}/dev_queries.jsonl
  dev_qrels_path: ${dataset.data_dir}/dev_qrels.json
  dev_bm25_run_path: ${testing.data_dir}/dev_bm25_run.json
  query_path: ${testing.data_dir}/test_queries.jsonl
  qrels_path: ${testing.data_dir}/qrels.json
  bm25_run_path: ${testing.data_dir}/bm25_run.lz4
  category_to_label: ${testing.data_dir}/category_to_label.json
  embedding_dir: ${dataset.output_dir}/embeddings
  rerank: false
dataset:
  data_dir: ../nfcorpus
  corpus_path: ${dataset.data_dir}/corpus.jsonl
  query_path: ${dataset.data_dir}/train_queries.jsonl
  qrels_path: ${dataset.data_dir}/qrels/train.tsv
  category_to_label: ${dataset.data_dir}/category_to_label.json
  val_split: 0.05
  output_dir: output/nfcorpus
  model_dir: output/nfcorpus/saved_model_biencoder
  logs_dir: ${dataset.output_dir}/logs
  runs_dir: ${dataset.output_dir}/runs
